# UI Specification

## ユースケース一覧

### 投票参加者（Voter）
1. 投票参加者が投票セッションに参加する
2. 投票参加者が選択肢から一つを選んで投票する
3. 投票参加者が投票結果をリアルタイムで確認する
4. 投票参加者が残り時間を確認する
5. 投票参加者が参加者数を確認する

### 投票作成者（Poll Creator）
6. 投票作成者が新しい投票を作成する
7. 投票作成者が投票質問を設定する
8. 投票作成者が選択肢を設定する
9. 投票作成者が投票を開始する

### システム（System）
10. システムがRedis Pub/SubとWebSocketによりリアルタイムで投票データを同期する
11. システムがRedis SETを使用して重複投票を防止する
12. システムがRedis KEYの自動期限切れにより投票時間を管理する
13. システムがRedis HASHによる投票データ永続化を管理する

## 画面一覧

### 投票参加者向け画面
1. **投票参加画面** - 投票セッションに参加し、選択肢から投票を行う
2. **投票結果画面** - 投票結果をリアルタイムで確認する

### 投票作成者向け画面
3. **投票作成画面** - 新しい投票を作成し、質問と選択肢を設定して開始する
4. **投票管理画面** - 作成した投票の進行状況を確認する（投票結果画面とほぼ同じ表示）

## コンポーネント一覧

### 1. ライブ状態インジケータ
- Redis接続状態の表示（オンライン/オフライン/再接続中）
- オンライン時: 緑色のドットアニメーション + 「Live」テキスト
- オフライン時: 赤色のドット + 「Offline」テキスト
- 再接続中: 黄色のドット（点滅） + 「Reconnecting」テキスト

### 2. 参加者数表示
- RedisのSCARDコマンドによる参加者数をリアルタイム表示
- 人数アイコン + 数値 + 「人」
- Redis Pub/Sub経由でのリアルタイム更新

### 3. 残り時間表示（タイマー）
- Redis TTLコマンドによる投票残り時間の表示
- 円形プログレスバー + 時間表示（MM:SS形式）
- Redis Pub/Sub経由でのリアルタイム更新

### 4. 投票状況バー
- ライブ状態インジケータ + 参加者数表示 + 残り時間表示
- 投票進行中の画面で共通利用
- Redis接続状態の表示（接続中/再接続中/オフライン）

## 画面構成要素

### 共通要素
#### ヘッダー
- システムタイトル

#### フッター
- 著作権情報
- プライバシーポリシーリンク
- バージョン情報

### 1. 投票参加画面
#### メインコンテンツ
- 投票状況バー
- 投票質問
- 選択肢リスト（投票ボタン）
- ローディング状態表示

### 2. 投票結果画面
#### メインコンテンツ
- 投票状況バー
- 投票完了通知
- 投票結果リスト（各選択肢の得票数・割合・プログレスバー）
- ユーザーの投票選択マーカー
- 統計情報（総投票数、1位選択肢、リアルタイム更新状態）

### 3. 投票作成画面
#### メインコンテンツ
- 投票質問入力フィールド
- 選択肢入力フィールド（複数）
- 選択肢追加/削除ボタン
- 投票作成・開始ボタン
- バリデーションエラー表示

### 4. 投票管理画面
#### メインコンテンツ
- 投票状況バー
- 投票進行状況表示
- 投票結果リスト（各選択肢の得票数・割合・プログレスバー）
- 統計情報（総投票数、1位選択肢、リアルタイム更新状態）

